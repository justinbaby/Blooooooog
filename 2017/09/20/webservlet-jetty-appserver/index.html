<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.0 -->
    <script>
        window.materialVersion = "1.5.0"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">







        <link rel="dns-prefetch" href="https://www.google-analytics.com"/>








    <!-- Title -->
    
    <title>
        
            WebServlet+Jetty+Nginx轻松开发并部署应用服务器 | 
        
        Yuuta
    </title>

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Trumeet">
    <meta name="description" itemprop="description" content="坏耶 只是咸鱼">
    <meta name="keywords" content="Trumeet,Yuuta,后端,Jetty,Nginx,WebServlet,Idea">

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(window.oldVersion){var remove=window.oldVersion.reduce(function(p,c){return p||data.indexOf("/*"+c+"*/")!==-1},false);if(remove){lsloader.removeLS(key)}}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload,isJs){if(typeof cssonload==="boolean"){isJs=cssonload;cssonload=undefined}isJs=isJs||false;cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload,isJs);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload,isJs);return}code=code.split(versionString)[1];if(isJs){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload,isJs)}};lsloader.requestResource=function(name,path,cssonload,isJs){var that=this;if(isJs){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else{this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="https://ooo.0o0.ooo/2017/06/18/5945ce2628d93.jpg">
    <link rel="icon" sizes="192x192" href="https://ooo.0o0.ooo/2017/06/18/5945ce2628d93.jpg">
    <link rel="apple-touch-icon" href="https://ooo.0o0.ooo/2017/06/18/5945ce2628d93.jpg">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Yuuta">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    
        
            <link rel=alternate type="application/atom+xml" href="https://blog.trumeet.top/atom.xml">
        
    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F7F8FA;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icon -->

    <link href="https://fonts.proxy.ustclug.org/icon?family=Material+Icons" rel="stylesheet">




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://blog.trumeet.top">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="WebServlet+Jetty+Nginx轻松开发并部署应用服务器 | Yuuta">
    <meta property="og:image" content="https://blog.trumeet.tophttps://ooo.0o0.ooo/2017/06/18/5945ce2628d93.jpg" />
    <meta property="og:description" content="坏耶 只是咸鱼">
    <meta property="og:article:tag" content="后端"> <meta property="og:article:tag" content="Jetty"> <meta property="og:article:tag" content="Nginx"> <meta property="og:article:tag" content="WebServlet"> <meta property="og:article:tag" content="Idea"> 

    
        <meta property="article:published_time" content="Wed Sep 20 2017 10:44:22 GMT+0000" />
        <meta property="article:modified_time" content="Wed Sep 20 2017 10:44:22 GMT+0000" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="WebServlet+Jetty+Nginx轻松开发并部署应用服务器 | Yuuta">
    <meta name="twitter:description" content="坏耶 只是咸鱼">
    <meta name="twitter:image" content="https://blog.trumeet.tophttps://ooo.0o0.ooo/2017/06/18/5945ce2628d93.jpg">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://blog.trumeet.top" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/index.html" />
    

    <!-- Structured-data for SEO -->
    

    <!-- Analytics -->
    
        <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-85804209-3', 'auto');ga('send', 'pageview');
</script>
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#由来"><span class="post-toc-number">1.</span> <span class="post-toc-text">由来</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#开始开发"><span class="post-toc-number">2.</span> <span class="post-toc-text">开始开发</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#搭建开发环境"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">搭建开发环境</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置项目"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">配置项目</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#开始开发-1"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">开始开发</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#运行"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">运行</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#部署到服务器"><span class="post-toc-number">3.</span> <span class="post-toc-text">部署到服务器</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#在服务器上安装Jetty"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">在服务器上安装Jetty</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#编译war"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">编译war</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#部署war"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">部署war</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Nginx"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">Nginx</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#更新Webapp"><span class="post-toc-number">4.</span> <span class="post-toc-text">更新Webapp</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://ooo.0o0.ooo/2017/06/14/5940bc236ca73.png)">
    
            <p class="article-headline-p">
                WebServlet+Jetty+Nginx轻松开发并部署应用服务器
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://i.loli.net/2017/09/17/59be75c136a7f.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Trumeet</strong>
        <span>9月 20, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC4UlEQVR42u3aW27jMBAEQN//0tkDJJG7h8pCJotfgi1ZLAbIYB6vryPXCxsbGxsbGxsbG/uR7Fe8fvihb99eP3t9/f0tyf35nrGxsbH3Zr/513+5oeut/7bRZA/J8RV7xsbGxj6APQs8+QGtBMg8mGFjY2Nj569ZTxsSKjY2Njb2X7PzLSZpzPVxYGNjY2OvF5VmAaYNhO3B/XktDRsbG/vx7Lxp+pzr/9rfxsbGxn4wux5hjItKSYiaBafhzrGxsbE3Za+U8pPfmRWP2oNL9omNjY29KzsfuLkOMHkAa4v+ebHpzefY2NjYW7Pbxm0SfnLkSuO5SJawsbGxN2W3jYHZQM+sZXvvt9jY2Ni7spMA8BqtNi1Z+WNEjQdsbGzsTdltsjEr8eTl/pWCV93oxcbGxt6IfVejtx3cuSa1LeG6qISNjY29EbstAyX356FrFgLzVgQ2Njb23uzZ2M1K+GmHKdtGxdKkEjY2NvbHsusCTXAQs0/Wi0rY2NjYp7FnAaNNP2ZDPG0TYlhUwsbGxv5w9iyMrTRuk+N4A4ifxcbGxj6BvV6syUNRjlkvMC2N7GBjY2N/ILtol8ZJRRFaRsfahl5sbGzsvdmz6zZRyY8gSTlunjnFxsbG3oKdlN1bWNswztOkJOxhY2Njn8Bum74rT7Vt2lkLedjoxcbGxv5Y9mw0564Akx9Tm8YsdUWwsbGxN2IngSdBtp/nRaXkKWxsbOxz2He1XXNw3gDAxsbGxr6r0Tu7Mx++TBKbYdqDjY2NvSm7Xe3rlwr6cZITBTZsbGzsTdmzwDDD56nILGTWjV5sbGzsjdh5YSg/gnaspy0S5SUwbGxs7HPYecm+TVfyhkSezLT7xMbGxsaeJRUtrz3K4u3Y2NjY2HFBJ08hkiRkpWmBjY2NfRo7KSolRfxogKYduClTI2xsbOzT2CsjOHkwy9sA7YDOMIBhY2Njb8E+Z2FjY2NjY2NjY2M/Zv0Dt3M0Nn1WBWMAAAAASUVORK5CYII=">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Idea/">Idea</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Jetty/">Jetty</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Nginx/">Nginx</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/WebServlet/">WebServlet</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/后端/">后端</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=WebServlet+Jetty+Nginx轻松开发并部署应用服务器&url=https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/index.html&pic=https://blog.trumeet.tophttps://ooo.0o0.ooo/2017/06/18/5945ce2628d93.jpg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=WebServlet+Jetty+Nginx轻松开发并部署应用服务器&url=https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/index.html&via=Trumeet" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/index.html&title=WebServlet+Jetty+Nginx轻松开发并部署应用服务器" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Yuuta&title=WebServlet+Jetty+Nginx轻松开发并部署应用服务器&summary=坏耶 只是咸鱼&pics=https://blog.trumeet.tophttps://ooo.0o0.ooo/2017/06/18/5945ce2628d93.jpg&url=https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/index.html&text=WebServlet+Jetty+Nginx轻松开发并部署应用服务器" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>本文教你如何使用 WebServlet + Jetty + Nginx 从开发到部署应用服务器！</p>
<h1 id="由来"><a href="#由来" class="headerlink" title="由来"></a>由来</h1><p>我最近需要为 Dir 开发后端应用服务器，以前是用的某SaaS服务平台（也是WebServlet），觉得太贵，于是需要部署到自己的服务器。目前有比较成熟的 Python 、PHP 和 JavaScript等语言 可用，但是我需要尽快开发出来，不能花时间新学一门语言，于是就选择了一直在用的 WebServlet。</p>
<h1 id="开始开发"><a href="#开始开发" class="headerlink" title="开始开发"></a>开始开发</h1><p>我默认你已会Java，对WebServlet有了解。关于WebServlet，可以参考：<a href="http://www.runoob.com/servlet" target="_blank" rel="external">http://www.runoob.com/servlet</a> 和 <a href="http://www.importnew.com/14621.html" target="_blank" rel="external">http://www.importnew.com/14621.html</a> 。</p>
<p>本文使用 Intellij Idea 社区版 作为开发和调试环境。</p>
<h2 id="搭建开发环境"><a href="#搭建开发环境" class="headerlink" title="搭建开发环境"></a>搭建开发环境</h2><p>IntelliJ Idea 不资瓷Web开发，所以我们需要手动写一些配置。参考：<a href="http://qinghua.github.io/intellij-idea-community-hotswap-webapp/" target="_blank" rel="external">http://qinghua.github.io/intellij-idea-community-hotswap-webapp/</a> 。</p>
<ul>
<li><p>首先，新建一个项目。</p>
<ul>
<li><p>打开Idea，点击 <code>Create new project</code> 新建项目。左侧选择 <code>Maven</code>，Project SDK选 <code>1.8</code>。</p>
<p><img src="https://ooo.0o0.ooo/2017/06/11/593d2920f3f94.png" alt="选择Maven"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>然后Next，输入你的 <code>GroupId</code>、<code>ArtifactId</code> 以及 <code>Version</code>。<img src="https://ooo.0o0.ooo/2017/06/11/593d29ce6a7b2.png" alt="输入信息"></p>
<p>Next，输入路径，最后Finish。</p>
</li>
</ul>
<h2 id="配置项目"><a href="#配置项目" class="headerlink" title="配置项目"></a>配置项目</h2><ul>
<li><p>首先进入项目，打开 <code>pom.xml</code>。</p>
<p><img src="https://ooo.0o0.ooo/2017/06/11/593d2a2754821.png" alt="我这里pom.xml"></p>
</li>
<li><p>在 <code>project</code> 内新建 <code>build</code>，填写下列XML代码：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mortbay.jetty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jetty-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.1.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">contextPath</span>&gt;</span>/<span class="tag">&lt;/<span class="name">contextPath</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">scanIntervalSeconds</span>&gt;</span>0<span class="tag">&lt;/<span class="name">scanIntervalSeconds</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">connectors</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">connector</span> <span class="attr">implementation</span>=<span class="string">"org.mortbay.jetty.nio.SelectChannelConnector"</span>&gt;</span></div><div class="line">              <span class="tag">&lt;<span class="name">port</span>&gt;</span>8080<span class="tag">&lt;/<span class="name">port</span>&gt;</span></div><div class="line">              <span class="tag">&lt;<span class="name">maxIdleTime</span>&gt;</span>60000<span class="tag">&lt;/<span class="name">maxIdleTime</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">connector</span>&gt;</span></div><div class="line">          <span class="tag">&lt;/<span class="name">connectors</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>然后在菜单 <code>Run</code> -&gt; <code>Edit Configurations</code> 里，新建一个<code>Maven</code> 根节点（直接点绿色加号就行），然后填入如图参数：</p>
<p><img src="https://ooo.0o0.ooo/2017/06/11/593d2c154f103.png" alt="填写参数"></p>
<ul>
<li>Name：Jetty</li>
<li>Working directory：默认就好</li>
<li>Command line：jetty:run</li>
</ul>
</li>
<li><p>然后选择 <code>Runner</code> 标签，把 <code>Use Project Settings</code> 去掉，填入参数：</p>
<p><img src="https://ooo.0o0.ooo/2017/06/11/593d2fb557d1e.png" alt="Runner标签填入参数"></p>
<ul>
<li><p>VM Options：-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=6006</p>
<p>端口6006可以自行决定，别和其它端口冲突就行。</p>
</li>
</ul>
</li>
<li><p>再点击绿色+号，新建一个根节点： <code>Remote</code>，填入参数：</p>
<p><img src="https://ooo.0o0.ooo/2017/06/11/593d30650c638.png" alt="Remote"></p>
<ul>
<li>Name：Jetty-Remote-Debug</li>
<li>Port：6006 （和先前在<code>Runner</code>标签里填写的端口一致就行。）</li>
</ul>
<p>随后点击 OK 退出。</p>
</li>
<li><p>再次回到 <code>pom.xml</code>，添加 <code>Jetty</code> 依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.eclipse.jetty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jetty-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.4.3.v20170317<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></div></pre></td></tr></table></figure>
<p>然后按 <code>Ctrl+S</code> 保存，在右下角弹出通知中点击 <code>Import Changs</code>，等一会儿加载完成。</p>
</li>
</ul>
<h2 id="开始开发-1"><a href="#开始开发-1" class="headerlink" title="开始开发"></a>开始开发</h2><ul>
<li>在左侧 Project 窗格打开 <code>src -&gt; main -&gt; java</code> 照常新建包和Servlett，可以参照上面给出的两个教程，不多阐述：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span> <span class="params">(HttpServletRequest request,</span></span></div><div class="line"><span class="function"><span class="params">                       HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException,</span></div><div class="line"><span class="function">            IOException </span>&#123;</div><div class="line">        <span class="comment">// 设置响应内容类型</span></div><div class="line">        response.setContentType(<span class="string">"text/html"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// 实际的逻辑是在这里</span></div><div class="line">        PrintWriter out = response.getWriter();</div><div class="line">        out.println(<span class="string">"Hello World"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><p>配置Servlet</p>
</li>
<li><ul>
<li><p>左侧 Project 窗格选择 Main，点击右键新建目录，名叫 <code>webapp</code>，里面新建 <code>WEB-INF</code> 目录，创建 <code>web.xml</code> 配置文件：（会提示URL is not registered，不用管它）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">version</span>=<span class="string">"3.0"</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span></span></div><div class="line"><span class="tag">	<span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></div><div class="line"><span class="tag">	<span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>在里面加入你的 Servlet:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloWorldServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>top.trumeet.demo.HelloWorldServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloWorldServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/welcome<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><ul>
<li>运行很简单，执行 <code>Jetty</code> 运行即可：</li>
</ul>
<p><img src="https://ooo.0o0.ooo/2017/06/11/593d345579da6.png" alt="运行程序"></p>
<ul>
<li><p>等待日志出现 <code>[INFO] Started Jetty Server</code> 即成功了。</p>
<p><img src="https://ooo.0o0.ooo/2017/06/11/593d3455e4226.png" alt="日志"></p>
</li>
<li><p>这时，访问 <a href="http://127.0.0.1:8080/welcome" target="_blank" rel="external">http://127.0.0.1:8080/welcome</a> （8080是你pom.xml中plugin里设定的端口）即可看到 <code>Hello World</code> 辣！</p>
<p><img src="https://ooo.0o0.ooo/2017/06/11/593d34fce93e1.png" alt="HelloWorld"></p>
</li>
</ul>
<h1 id="部署到服务器"><a href="#部署到服务器" class="headerlink" title="部署到服务器"></a>部署到服务器</h1><h2 id="在服务器上安装Jetty"><a href="#在服务器上安装Jetty" class="headerlink" title="在服务器上安装Jetty"></a>在服务器上安装Jetty</h2><ul>
<li><p>安装JDK1.8</p>
<blockquote>
<p>参考：<a href="http://www.yiibai.com/article/4439.html" target="_blank" rel="external">http://www.yiibai.com/article/4439.html</a></p>
</blockquote>
<p>（比较简单，就不Copy了 XD）</p>
</li>
<li><p>安装Jetty</p>
<ul>
<li><p>从官网下载，打开官网 <a href="http://www.eclipse.org/jetty/" target="_blank" rel="external">http://www.eclipse.org/jetty/</a>，找到最新下载直链，进行下载：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://central.maven.org/maven2/org/eclipse/jetty/jetty-distribution/9.4.6.v20170531/jetty-distribution-9.4.6.v20170531.tar.gz</div></pre></td></tr></table></figure>
</li>
<li><p>解压：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar -xzvf jetty-distribution-9.4.6.v20170531.tar.gz</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="编译war"><a href="#编译war" class="headerlink" title="编译war"></a>编译war</h2><p>到AS右面 <code>Maven Projects</code> 窗格 选择 <code>Lifecycle -&gt; package</code> 编译。</p>
<p><img src="https://ooo.0o0.ooo/2017/06/12/593dd818ef5aa.png" alt=""></p>
<p>双击启动，等待日志出现 <code>Process finished with exit code 0</code> 即表示编译完成（一般几秒钟就好吧..）</p>
<p>在上面 <code>[INFO] Building war: XXX.war</code> 处找到war位置。</p>
<h2 id="部署war"><a href="#部署war" class="headerlink" title="部署war"></a>部署war</h2><ul>
<li><p>启动服务器</p>
<p>我们使用 jetty.sh start 启动服务器。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jetty-distribution-9.4.6.v20170531/bin/jetty.sh start</div></pre></td></tr></table></figure>
<p>等待 <code>OK</code> 之后即可访问 <code>服务器IP:8080</code> 就会出现无已部署应用的404页面，即表示安装Jetty成功。</p>
</li>
<li><p>上传到服务器</p>
<p>有两种方式部署war，第一种是直接把war放到 <code>jetty/webapps</code> 下，然后通过 <code>&lt;Jetty监听地址&gt;/XXX.war</code> 访问。另一种是放到任何可以访问的地方，然后在 <code>jetty/webapps</code> 新建一个XML用于访问。</p>
<ul>
<li><p>第一种方案</p>
<p>很简单，把war用SFTP等方式上传到 <code>webapps</code> 下即可。如 <code>jetty/webapps/Demo.war</code> ，就需要访问 <code>&lt;你的IP&gt;:8080/Demo</code> 。</p>
</li>
<li><p>第二种方案</p>
<p>首先，把war放到你需要的目录，如 <code>~</code> ，名称随意。然后在 <code>jetty/webapps</code> 新建 <code>Demo.xml</code>，填入以下内容：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0"  encoding="UTF-8"?&gt;</div><div class="line"><span class="meta">&lt;!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "http://www.eclipse.org/jetty/configure_9_0.dtd"&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">Configure</span> <span class="attr">class</span>=<span class="string">"org.eclipse.jetty.webapp.WebAppContext"</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">Set</span> <span class="attr">name</span>=<span class="string">"contextPath"</span>&gt;</span>/demo<span class="tag">&lt;/<span class="name">Set</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Set</span> <span class="attr">name</span>=<span class="string">"war"</span>&gt;</span>/root/XXX.war<span class="tag">&lt;/<span class="name">Set</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">Configure</span>&gt;</span></div></pre></td></tr></table></figure>
<p>里面 <code>contextPath</code> 就是 <code>&lt;你的IP&gt;:8080/</code> 后面的地址。<code>war</code> 是war的 <strong>绝对路径</strong>。</p>
</li>
</ul>
</li>
<li><p>重启Jetty</p>
<p>每次更新war都需要重启jetty，使用 <code>jetty.sh restart</code> 即可。</p>
</li>
</ul>
<ul>
<li><p>验证效果</p>
<p>至此，我们已经部署好了你的应用，现在打开 <code>&lt;你的服务器IP&gt;:8080/demo/welcome</code> 即可访问到刚才的 HelloWorld 了。（说一下，8080是端口号，我这里一直保持的Jetty默认，需要修改端口自行Google）</p>
</li>
</ul>
<h2 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h2><p>我们希望通过诸如 <code>api.example.com</code> 访问到我们的应用，所以需要配置Nginx。</p>
<p>我这里用的lnmp一键安装包，所以这样做：</p>
<ul>
<li><p>新建一个vHost</p>
<p><code>lnmp vhost add</code></p>
<p>域名自己填，如 <code>api.example.com</code>，剩下的.. 自己填（X</p>
</li>
<li><p>修改Nginx配置文件</p>
<p>打开 <code>/usr/local/nginx/conf/vhost/&lt;刚才填的第一个域名&gt;.conf</code> （不是lnmp可能不在这里，大家自己找一下）</p>
<p>在 <code>server</code> 块内追加如下内容：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">location</span> / &#123;</div><div class="line">         <span class="attribute">proxy_pass</span>      http://127.0.0.1:8080;</div><div class="line">         <span class="attribute">proxy_redirect</span>  <span class="literal">off</span>;</div><div class="line">         <span class="attribute">proxy_set_header</span>        Host            <span class="variable">$host</span>;</div><div class="line">         <span class="attribute">proxy_set_header</span>        X-Real-IP       <span class="variable">$remote_addr</span>;</div><div class="line">         <span class="attribute">proxy_set_header</span>        X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p><strong>这里的 8080 就是刚才Jetty设定的端口，如果你修改了，这里也需要同时修改。</strong></p>
<p>然后保存退出。最后 <code>lnmp nginx restart</code> 重启nginx。</p>
</li>
<li><p>添加域名解析</p>
<p>这个自己去域名服务商或者CloudFlare之类的服务商填就行。</p>
</li>
</ul>
<p>最终，我们可以通过 <code>api.example.com/demo/welcome</code> 看到 <code>Hello World</code> 了。</p>
<p>​</p>
<h1 id="更新Webapp"><a href="#更新Webapp" class="headerlink" title="更新Webapp"></a>更新Webapp</h1><p>（这方面没有仔细研究，轻拍）</p>
<p>如果我们的程序做了修改，我的做法是重新打包，上传，最后重启Jetty即可。</p>
<hr>
<p>还要说一下，我没有设定Jetty开机自启，所以每次重启服务器都需要 <code>jetty.sh start</code> 启动一下。</p>
<blockquote>
<p>本博客均为原创内容，未经允许不得转载！</p>
</blockquote>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load"> 
    <button class="disqus_click_btn" style="display: none">阅读评论（请确保 disqus 可以正常加载）</button>
</div>

<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://blog.trumeet.top/2017/09/20/webservlet-jetty-appserver/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/ls-javascript" id="disqus-lazy-load-script">
    $.ajax({
        url: 'https://disqus.com/next/config.json',
        timeout: 4000,
        type: 'GET',
        success: (function() {
            var d = document;
            var s = d.createElement('script');
            s.src = '//hexo-trumeet-top.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
            $('.btn_click_load').css('display','none');
        })(),
        error: function() {
          $('.btn_click_load').css('display','block');
        }
    });
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//hexo-trumeet-top.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
  	

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/09/20/bugly-tinker-issues/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(https://ooo.0o0.ooo/2017/06/12/593e0e3425699.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://i.loli.net/2017/09/17/59be75c136a7f.jpg" alt="Trumeet's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        trumeetc@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:trumeetc@gmail.com" target="_blank" title="邮件">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        邮件
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/07/">七月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">五月 2017<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="https://trumeet.top" title="TRUMEET.TOP">
                
                    <i class="material-icons sidebar-material-icons">arrow_back</i>
                
                TRUMEET.TOP
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/links" title="大佬们">
                
                    <i class="material-icons sidebar-material-icons">link</i>
                
                大佬们
            </a>
        </li>
        
    
        <li>
            <a href="/gallery" title="图片集">
                
                    <i class="material-icons sidebar-material-icons">image</i>
                
                图片集
            </a>
        </li>
        
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">bookmark</i>
                
                标签云
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">17</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/Trumeet" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/2430367317" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-weibo">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://www.github.com/trumeet" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/trumeet" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    
        <a href="http://space.bilibili.com/40182983/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-bilibili">
                <span class="visuallyhidden">Bilibili</span>
            </button><!--
     --></a>
    

    <!-- Telegram -->
    
        <a href="https://t.me/trumeet" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-telegram">
                <span class="visuallyhidden">Telegram</span>
            </button><!--
     --></a>
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Yuuta
            
                <br>
                
                    <a href="https://blog.trumeet.top/2017/07/13/why-trumeet/">本博客均为原创文章，未经作者允许，严禁转载！</a>
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("sm_js","/js/smoothscroll.js?lOy/ACj5suSNi7ZVFVbpFQ==", true)</script>
    







   <!-- 使用 DISQUS js 代码 -->






<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
